(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/215":function(n,t,r){"use strict";function e(n,t){switch(n){case"ERROR":return t.colors.fail.light;case"FINISHED":return t.colors.success.light;case"RUNNING":return t.colors.progress.light;case"TIMED_OUT":return t.colors.gray.light}}function a(n,t){switch(n){case"ERROR":return t.colors.fail.normal;case"FINISHED":return t.colors.success.normal;case"RUNNING":return t.colors.progress.normal;case"TIMED_OUT":return t.colors.gray.normal}}r.d(t,"a",(function(){return e})),r.d(t,"b",(function(){return a}))},"15Y1":function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/[taskName]",function(){return r("9uRH")}])},"9uRH":function(n,t,r){"use strict";r.r(t);var e=r("pneb"),a=r("2ewA"),o=r("ERkP"),u=r.n(o),i=r("7xIC"),c=r("H5qd"),l=r.n(c),s=r("1U1M"),d=r("rbhw"),f=r("uRUK"),v=r("+Sa3"),m=r("D8I5"),b=r("CJ9h"),p=r("DIv6"),h=r("6c2c"),g=r("ysci"),y=r.n(g);var O=r("IVrg"),k=r.n(O),j=r("5A7e"),I=r.n(j);function w(n,t){return function(n){if(y()(n))return n}(n)||function(n,t){if(I()(Object(n))||"[object Arguments]"===Object.prototype.toString.call(n)){var r=[],e=!0,a=!1,o=void 0;try{for(var u,i=k()(n);!(e=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);e=!0);}catch(c){a=!0,o=c}finally{try{e||null==i.return||i.return()}finally{if(a)throw o}}return r}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=r("dZZJ"),R=r.n(N),S=r("j/s1"),E=r("/215");function T(){var n=Object(a.a)(["\n  min-width: 5rem;\n  padding: 0.6rem 1rem;\n  margin: 0;\n  border-radius: 3px;\n  border-width: 1px;\n  font-size: 1.15rem;\n  border-style: solid;\n  border-color: ",";\n  color: ",";\n  background-color: ",";\n"]);return T=function(){return n},n}var D=S.default.button(T(),(function(n){return n.theme.colors.gray.light}),(function(n){return n.theme.colors.gray.dark}),(function(n){return n.theme.colors.gray.light}));function x(){var n=Object(a.a)(["\n  border-color: ",";\n  color: ",";\n  background-color: ",";\n"]);return x=function(){return n},n}var J=Object(S.default)(D)(x(),(function(n){var t=n.theme;return Object(E.b)("FINISHED",t)}),(function(n){var t=n.theme;return Object(E.b)("FINISHED",t)}),(function(n){var t=n.theme;return Object(E.a)("FINISHED",t)})),F=u.a.createElement;function H(){var n=Object(a.a)(["\n    mutation Run($taskId: String!, $payload: String!) {\n      runTask(id: $taskId, payload: $payload) {\n        payload\n        id\n        logs\n        startTime\n        endTime\n      }\n    }\n  "]);return H=function(){return n},n}function _(){var n=Object(a.a)(["\n  text-align: right;\n"]);return _=function(){return n},n}function M(){var n=Object(a.a)(["\n  text-align: right;\n  padding: 1rem;\n  color: ",";\n"]);return M=function(){return n},n}function U(){var n=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 1rem 0;\n"]);return U=function(){return n},n}var C=S.default.div(U()),P=S.default.p(M(),(function(n){return n.theme.colors.fail.normal})),A=S.default.div(_()),Z=function(n){var t=n.taskId,r=function(){return""},e=Object(o.useState)(!0),a=e[0],u=e[1];function i(){try{var n=R()(JSON.parse(r()));return u(!0),n}catch(t){return u(!1),"{}"}}var c=w(Object(s.b)(l()(H())),1)[0];return F(C,null,F(m.a,null,"Run"),F("p",null,"Enter this run's payload:"),F(v.a,{value:"{\n  \n}\n",height:"150px",editorDidMount:function(n){return r=n}}),F(P,null,!a&&"Invalid JSON in payload"),F(A,null,F(J,{onClick:function(){c({variables:{payload:i(),taskId:t}})}},"Run")))},$=u.a.createElement;function q(){var n=Object(a.a)(['\n    query GetTask {\n      task(name: "','") {\n        name\n        id\n        schedule\n        code\n        runs {\n          id\n          state\n          startTime\n          endTime\n          payload\n        }\n      }\n    }\n  ']);return q=function(){return n},n}t.default=Object(h.a)((function(){var n,t,r,a,o,u,c,h=Object(i.useRouter)().query.taskName,g=l()(q(),h),y=Object(s.c)(g),O=y.data,k=y.error;return k?$(p.a,{error:k}):$(d.a,null,$(f.a,null,null===O||void 0===O?void 0:null===(n=O.task)||void 0===n?void 0:n.name),$("p",null,"manual"===(null===O||void 0===O?void 0:null===(t=O.task)||void 0===t?void 0:t.schedule)?"Manual invocation only":"Runs every ".concat(null===O||void 0===O?void 0:null===(r=O.task)||void 0===r?void 0:r.schedule)),$(m.a,null,"Code"),$(v.a,{readonly:!0,value:null===O||void 0===O?void 0:null===(a=O.task)||void 0===a?void 0:a.code,language:"typescript"}),$("div",null,$(Z,{taskId:null===O||void 0===O?void 0:null===(o=O.task)||void 0===o?void 0:o.id})),$(m.a,null,"Latest Runs"),null===O||void 0===O?void 0:null===(u=O.task)||void 0===u?void 0:null===(c=u.runs)||void 0===c?void 0:c.map((function(n){var t;return $(b.a,Object(e.a)({key:n.startTime,taskName:null===O||void 0===O?void 0:null===(t=O.task)||void 0===t?void 0:t.name},n))})))}))},CJ9h:function(n,t,r){"use strict";(function(n){var e=r("2ewA"),a=r("ERkP"),o=r.n(a),u=r("j/s1"),i=r("jvFD"),c=r.n(i),l=r("/215"),s=r("IFaM"),d=r("nFbs"),f=o.a.createElement;function v(){var n=Object(e.a)(["\n  padding: 1rem;\n  border: 1px solid\n    ",";\n  color: ",";\n  background-color: ",";\n  margin: 1rem 0;\n  display: flex;\n  justify-content: space-between;\n"]);return v=function(){return n},n}var m=u.default.div(v(),(function(n){var t=n.theme,r=n.state;return Object(l.b)(r,t)}),(function(n){var t=n.theme,r=n.state;return Object(l.b)(r,t)}),(function(n){var t=n.theme,r=n.state;return Object(l.a)(r,t)}));t.a=function(t){var r=t.taskName,e=t.state,a=t.startTime,o=t.endTime,u=t.id;return f(c.a,{href:"".concat(n.env.mountPath,"/tasks/").concat(r,"/runs/").concat(u)},f(d.a,null,f(m,{state:e},f("span",null,new Date(a).toLocaleDateString("en-US",{})," - ",new Date(a).toLocaleTimeString()," \xb7 ",e),f("span",null,Object(s.a)(a,o)))))}}).call(this,r("F63i"))},dZZJ:function(n,t,r){n.exports=r("fR3B")},fR3B:function(n,t,r){var e=r("MS8/"),a=e.JSON||(e.JSON={stringify:JSON.stringify});n.exports=function(n){return a.stringify.apply(a,arguments)}}},[["15Y1",2,1,0,14,15,16]]]);